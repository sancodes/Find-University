<aura:component controller="UniversityApi" implements="forceCommunity:availableForAllPageTypes" access="global">
    <aura:attribute name="inputFieldSearchCountry" type="String" />
    <aura:attribute name="resultValue" type="List" />
    <aura:attribute name="truthy" type="Boolean" default="false" />

    <lightning:input type="text" label="Enter Country:" value="{!v.inputFieldSearchCountry}" />
    <lightning:button label="Enter" onclick="{!c.searchUniFn}" />

    <table class="slds-table slds-table--bordered slds-table--cell-buffer">
        <thead>
            <aura:iteration items="{!v.resultValue}" var="item">
                <tr class="slds-text-title--caps">


                    <th>
                        <div class="slds-truncate" title="University Name">{!item.Name}</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="University Web Page">{!item.Web_Pages__c}</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="Country Name">{!item.Country__c}</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="University Domain">{!item.Domains__c}</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="Country Alpha Code">{!item.Alpha_Two_Code__c}</div>
                    </th>
                    <th>
                        <lightning:button variant="brand" label="Save" title="Save" onclick="{! c.doSave }"
                            value="{!item}" />
                    </th>


                </tr>
            </aura:iteration>
        </thead>
    </table>

    <lightning:button variant="brand" label="Save" title="Save" onclick="{! c.doSave }" />



    <!--After DB -->



    <aura:attribute name="uniObj" type="University__c" default="{'sobjectType': 'University__c', 
                                                                 'Name':'',
                                                                 'Country__c':'',
                                                                 'Domains__c':'',
                                                                 'Web_Pages__c':'',
                                                                 'Alpha_Two_Code__c':''
                                                                }" />


    <aura:attribute name="universityId" type="String" />
    <aura:attribute name="universityList" type="University__c[]" />
    <aura:handler name="init" value="{!this}" action="{!c.showUniversities}" />

    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <span class="slds-icon_container slds-icon-standard-account" title="account">
                        <lightning:icon iconName="custom:university__c" alternativeText="University" />
                    </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="javascript:void(0);" class="slds-card__header-link slds-truncate" title="Accounts">
                            <span>University</span>
                        </a>
                    </h2>
                </div>
                <div class="slds-no-flex">
                    <lightning:button variant="brand" label="Save" title="Save" onclick="{! c.doSave }" />
                </div>
            </header>
        </div>
        <div class="slds-card__body  slds-card__body_inner">
            <lightning:input value="{!v.uniObj.Name}" label="University Name" placeholder="enter University Name..." />
            <lightning:input value="{!v.uniObj.Country__c}" label="Country" placeholder="enter Country..." />
            <lightning:input value="{!v.uniObj.Domains__c}" label="University Domain"
                placeholder="enter University Domain..." />
            <lightning:input value="{!v.uniObj.Web_Pages__c}" label="University Web Page"
                placeholder="enter University Web Page..." />
            <lightning:input value="{!v.uniObj.Alpha_Two_Code__c}" label="Alpha Two Code"
                placeholder="enter Alpha Two Code..." />
            <div><br />
                <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                    <thead>
                        <tr>
                            <th class="slds-text-title_caps" scope="col">
                                <div class="slds-truncate" title="University Name">University Name</div>
                            </th>
                            <th class="slds-text-title_caps" scope="col">
                                <div class="slds-truncate" title="Country">Country</div>
                            </th>
                            <th class="slds-text-title_caps" scope="col">
                                <div class="slds-truncate" title="Domain">University Domain</div>
                            </th>
                            <th class="slds-text-title_caps" scope="col">
                                <div class="slds-truncate" title="Web Page">University Web Page</div>
                            </th>
                            <th class="slds-text-title_caps" scope="col">
                                <div class="slds-truncate" title="Alpha Two Code">University Alpha Two Code</div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <aura:iteration items="{!v.universityList}" var="item" indexVar="index">
                            <tr>
                                <td data-label="University Name" scope="row">
                                    <div class="slds-truncate" title="UniversityName">{!item.Name} </div>
                                </td>
                                <td data-label="Country">
                                    <div class="slds-truncate" title="Country">{!item.Country__c}</div>
                                </td>
                                <td data-label="University Domain">
                                    <div class="slds-truncate" title="UniversityDomain">{!item.Domains__c }</div>
                                </td>
                                <td data-label="University Web Page">
                                    <div class="slds-truncate" title="UniversityWebPage">{!item.Web_Pages__c }</div>
                                </td>
                                <td data-label="Alpha Two Code">
                                    <div class="slds-truncate" title="AlphaTwoCode">{!item.Alpha_Two_Code__c }</div>
                                </td>
                            </tr>

                        </aura:iteration>
                    </tbody>
                </table>
            </div>

        </div>

        <footer class="slds-card__footer">
            <div class="demo-only" style="height: 4rem;">
                <div class="slds-notify_container slds-is-relative">
                    <div class="slds-notify slds-notify_toast slds-theme_success" role="status">

                        <lightning:icon iconName="utility:success" alternativeText="success" aria-hidden="true" />

                        <div class="slds-notify__content">
                            <h2 class="slds-text-heading_small "><a href="javascript:void(0);">University Id
                                    :{!v.universityId} </a> University was created.</h2>
                        </div>
                        <div class="slds-notify__close">
                            <button class="slds-button slds-button_icon slds-button_icon-inverse" title="Close">
                                <lightning:icon iconName="utility:close" alternativeText="close" />
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </footer>
    </article>

</aura:component>